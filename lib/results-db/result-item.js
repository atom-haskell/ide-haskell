"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const crypto_1 = require("crypto");
const atom_1 = require("atom");
const utils_1 = require("../utils");
class ResultItem {
    constructor(providerId, { uri, message, severity, position }) {
        this.providerId = providerId;
        this.uri = uri;
        this.message = utils_1.MessageObject.fromObject(message);
        this.severity = severity;
        this.position = position && atom_1.Point.fromObject(position);
        this._isValid = true;
    }
    isValid() {
        return this._isValid;
    }
    setValid(isValid) {
        this._isValid = isValid;
    }
    hash() {
        const h = crypto_1.createHash('md5');
        h.update(JSON.stringify({
            uri: this.uri, position: this.position && this.position.serialize(),
            message: this.message.raw(), severity: this.severity
        }));
        return h.digest('latin1');
    }
}
exports.ResultItem = ResultItem;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LWl0ZW0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcmVzdWx0cy1kYi9yZXN1bHQtaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUFpQztBQUNqQywrQkFBMEI7QUFDMUIsb0NBQWdEO0FBWWhEO0lBTUUsWUFBNkIsVUFBa0IsRUFBRSxFQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBYztRQUFuRSxlQUFVLEdBQVYsVUFBVSxDQUFRO1FBQzdDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFBO1FBQ2QsSUFBSSxDQUFDLE9BQU8sR0FBRyxxQkFBYSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUNoRCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQTtRQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsSUFBSSxZQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3RELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFBO0lBQ3RCLENBQUM7SUFFTSxPQUFPO1FBQ1osTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUE7SUFDdEIsQ0FBQztJQUVNLFFBQVEsQ0FBRSxPQUFnQjtRQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQTtJQUN6QixDQUFDO0lBRU0sSUFBSTtRQUNULE1BQU0sQ0FBQyxHQUFHLG1CQUFVLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDM0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQ3RCLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFO1lBQ25FLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtTQUNyRCxDQUFDLENBQUMsQ0FBQTtRQUNILE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQzNCLENBQUM7Q0FDRjtBQTlCRCxnQ0E4QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2NyZWF0ZUhhc2h9IGZyb20gJ2NyeXB0bydcbmltcG9ydCB7UG9pbnR9IGZyb20gJ2F0b20nXG5pbXBvcnQge1RNZXNzYWdlLCBNZXNzYWdlT2JqZWN0fSBmcm9tICcuLi91dGlscydcblxuZXhwb3J0IHR5cGUgVFNldmVyaXR5ID0gJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdsaW50JyB8IHN0cmluZ1xuZXhwb3J0IHR5cGUgVFBvc2l0aW9uID0gUG9pbnQgfCBbbnVtYmVyLCBudW1iZXJdXG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlc3VsdEl0ZW0ge1xuICB1cmk/OiBzdHJpbmdcbiAgcG9zaXRpb24/OiBUUG9zaXRpb25cbiAgbWVzc2FnZTogVE1lc3NhZ2VcbiAgc2V2ZXJpdHk6IFRTZXZlcml0eVxufVxuXG5leHBvcnQgY2xhc3MgUmVzdWx0SXRlbSB7XG4gIHB1YmxpYyByZWFkb25seSB1cmk/OiBzdHJpbmdcbiAgcHVibGljIHJlYWRvbmx5IHBvc2l0aW9uPzogUG9pbnRcbiAgcHVibGljIHJlYWRvbmx5IG1lc3NhZ2U6IE1lc3NhZ2VPYmplY3RcbiAgcHVibGljIHJlYWRvbmx5IHNldmVyaXR5OiBUU2V2ZXJpdHlcbiAgcHJpdmF0ZSBfaXNWYWxpZDogYm9vbGVhblxuICBjb25zdHJ1Y3RvciAocHVibGljIHJlYWRvbmx5IHByb3ZpZGVySWQ6IG51bWJlciwge3VyaSwgbWVzc2FnZSwgc2V2ZXJpdHksIHBvc2l0aW9ufTogSVJlc3VsdEl0ZW0pIHtcbiAgICB0aGlzLnVyaSA9IHVyaVxuICAgIHRoaXMubWVzc2FnZSA9IE1lc3NhZ2VPYmplY3QuZnJvbU9iamVjdChtZXNzYWdlKVxuICAgIHRoaXMuc2V2ZXJpdHkgPSBzZXZlcml0eVxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbiAmJiBQb2ludC5mcm9tT2JqZWN0KHBvc2l0aW9uKVxuICAgIHRoaXMuX2lzVmFsaWQgPSB0cnVlXG4gIH1cblxuICBwdWJsaWMgaXNWYWxpZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVmFsaWRcbiAgfVxuXG4gIHB1YmxpYyBzZXRWYWxpZCAoaXNWYWxpZDogYm9vbGVhbikge1xuICAgIHRoaXMuX2lzVmFsaWQgPSBpc1ZhbGlkXG4gIH1cblxuICBwdWJsaWMgaGFzaCAoKSB7XG4gICAgY29uc3QgaCA9IGNyZWF0ZUhhc2goJ21kNScpXG4gICAgaC51cGRhdGUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdXJpOiB0aGlzLnVyaSwgcG9zaXRpb246IHRoaXMucG9zaXRpb24gJiYgdGhpcy5wb3NpdGlvbi5zZXJpYWxpemUoKSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZS5yYXcoKSwgc2V2ZXJpdHk6IHRoaXMuc2V2ZXJpdHlcbiAgICB9KSlcbiAgICByZXR1cm4gaC5kaWdlc3QoJ2xhdGluMScpXG4gIH1cbn1cbiJdfQ==