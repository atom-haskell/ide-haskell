"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const atom_1 = require("atom");
function listen(element, event, selector, callback) {
    const bound = (evt) => {
        if (evt.target.matches(selector)) {
            callback(evt);
        }
    };
    element.addEventListener(event, bound, true);
    return new atom_1.Disposable(() => {
        element.removeEventListener(event, bound);
    });
}
exports.listen = listen;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC1saXN0ZW5lci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lZGl0b3ItY29udHJvbC9lbGVtZW50LWxpc3RlbmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0JBQStCO0FBRS9CLGdCQUNFLE9BQW9CLEVBQUUsS0FBYSxFQUFFLFFBQWdCLEVBQUUsUUFBZ0M7SUFFdkYsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFVO1FBQ3ZCLEVBQUUsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxNQUFzQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEQsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2YsQ0FBQztJQUNILENBQUMsQ0FBQTtJQUNELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzVDLE1BQU0sQ0FBQyxJQUFJLGlCQUFVLENBQUM7UUFDcEIsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQTtJQUMzQyxDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUM7QUFaRCx3QkFZQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RGlzcG9zYWJsZX0gZnJvbSAnYXRvbSdcblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlbiAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBldmVudDogc3RyaW5nLCBzZWxlY3Rvcjogc3RyaW5nLCBjYWxsYmFjazogKGV2ZW50OiBFdmVudCkgPT4gdm9pZFxuKTogRGlzcG9zYWJsZSB7XG4gIGNvbnN0IGJvdW5kID0gKGV2dDogRXZlbnQpID0+IHtcbiAgICBpZiAoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICBjYWxsYmFjayhldnQpXG4gICAgfVxuICB9XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgYm91bmQsIHRydWUpXG4gIHJldHVybiBuZXcgRGlzcG9zYWJsZSgoKSA9PiB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBib3VuZClcbiAgfSlcbn1cbiJdfQ==